# 基础知识

## OSI 模型

### 应用层

主机之间通过他们各自的应用层通信，实现数据的处理（如：存储，渲染展示等）。

### 表示层

表示层会更多关注数据的具体表现形式，

不同客户端之间都有自己的特定的数据格式。

利用表示层，将 “某个计算机特定的数据格式” 转换为 “网络通用的标准数据格式”，之后再进行发送。

接收端收到数据以后将网络标准格式转换为接收端自己的 “特定数据格式” 进行处理。

如果未能按照特定格式编码，接收端即使收到数据也会乱码。

表示层与表示层之间为了识别编码格式，也会附加首部信息，从而将实际传输的数据转交给下一层进行处理。

### 会话层

`A` 要发送 `5` 封邮件给 `B`，是每发送一封建立一次连接，还是一个连接发送 `5` 封邮件。

采用何种连接方法是会话层的主要职责，会话层会将收到的数据附加首部或者标签信息后再转发下一层。这些首部或者标签信息中记录着数据传送顺序的信息。

### 传输层

进行建立连接或者断开连接的处理，在两个主机之间创建逻辑上的通信连接即是传输层的主要作用。此外，传输层为确保所传输的数据到达目标地址，会在通信两端的计算机之间进行确认，如果数据没有到达，他会负责进行重发。

### 网络层

两端主机之间虽然有众多数据链路，但是能够将数据从主机 A 发送到主机 B 都是网络层的功劳。

在实际发送数据时，目的地址至关重要。这个地址是进行通信的网络中的唯一指定的序号。只要这个目的地址确定，就可以在众多计算机中选出目标地址对应的计算机进行发送数据。
基于这个地址，就可以进行网络层的数据包的发送处理。

网络层中也会将其从上层收到的数据和地址信息等一起发送给下面的数据链路层，进行后续的处理。

> 传输层与网络层的关系
> 在不同的网络体系结构下，网络层有时也不能保证数据的可达性。
> 例如，在相当于 TCP/IP **网络层的 IP 协议**中，就不能保证数据一定会发送到对端地址。因此，数据传送过程中出现数据丢失，顺序混乱等问题可能性大大增加。像这样没有可靠性传输要求的网络层中，可以由传输层负责提供 “正确传输数据的处理”。TCP/IP 中，网络层和传输层互相协作以确保数据能够到达全世界，实现可靠传输。

### 数据链路层、物理层

- 数据链路层的作用就是在这些通过传输介质互连的设备之间进行数据处理。

- 物理层中，将数据的 0, 1 转换为电压和脉冲光传输给物理的传输介质，而相互直连的设备之间使用 MAC 地址实现传输。这一层中，包含 MAC 地址信息的首部附加到从网络层转发过来的数据上，将其发送到网络。

> 网络层和数据链路层都是基于目标地址将数据发送到接收端，但是
>
>  - 网络层负责将整个数据转发到目标地址，
>  - 数据链路层只负责发送一个分段内的数据。

### 接收端的处理

接收端的处理流程正好和发送端相反，它从物理层开始将接收到的数据逐层发送到上一层进行处理。

可以将通信网络的功能分层来思考。每个分层上的协议规定了该分层中的数据首部的格式以及首部与处理数据的顺序。