## 简介

`Redis` 是速度非常快的非关系型（`NoSQL`）内存键值数据库，可以存储键和五种不同类型的值之间的映射。

键的类型只能为字符串，值支持五种数据类型：字符串(`string`)、列表(`list`)、集合(`set`)、散列表(`hash`)、有序集合(`zset`)。

`Redis` 支持很多特性，例如将内存中的数据持久化到硬盘中，使用复制来扩展读性能，使用分片来扩展写性能。

## 数据类型

| 数据类型	| 可以存储的值	|操作|
| --------- | --- | ------- |
|STRING| 字符串，整数，浮点数	|对整个字符串或者字符串的其中一部分执行操作</br> 对整数和浮点数执行自增或者自减操作|
|LIST|	列表|	从两端压入或者弹出元素 </br> 对单个或者多个元素进行修剪，</br> 只保留一个范围内的元素|
|SET	|无序集合|添加、获取、移除单个元素</br> 检查一个元素是否存在于集合中</br> 计算交集、并集、差集</br> 从集合里面随机获取元素|
|HASH|	包含键值对的无需散列表|	添加、获取、移除单个键值对</br> 获取所有键值对</br> 检查某个键是否存在|
|ZSET|	有序集合|添加、获取、删除元素</br> 根据分值范围或者成员来获取元素</br> 计算一个键的排名|

### 字典 TODO

### 跳跃表 (有序集合)

是有序集合的底层实现之一。

跳跃表是基于多指针有序链表实现的，可以看成多个有序链表。

![](./image/beba612e-dc5b-4fc2-869d-0b23408ac90a.png)

在查找时，从上层指针开始查找，找到对应的区间之后再到下一层去查找。下图演示了查找 22 的过程。

![](./image/0ea37ee2-c224-4c79-b895-e131c6805c40.png)

与红黑树等平衡树相比，跳跃表具有以下优点：

- 插入速度非常快速，因为不需要进行旋转等操作来维护平衡性；
- 更容易实现；
- 支持无锁操作。

## 数据备份(持久化)与恢复

### 方式 TODO

### 方法

**!!!! AOF持久化：http://c.biancheng.net/redis/aof.html**

- 备份

```shell
redis 127.0.0.1:6379> SAVE 
OK
```

- 恢复

如果需要恢复数据，只需将备份文件 (`dump.rdb`) 移动到 `redis` 安装目录并启动服务即可。获取 `redis` 目录可以使用 `CONFIG` 命令，如下所示：

```shell
redis 127.0.0.1:6379> CONFIG GET dir
1) "dir"
2) "/usr/local/redis/bin"
```

## 什么是缓存雪崩、缓存击穿、缓存穿透？TODO

**!!! 缓存：https://zhuanlan.zhihu.com/p/346651831**

**!!! 布隆过滤器 https://zhuanlan.zhihu.com/p/43263751**
